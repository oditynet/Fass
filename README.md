# FASS

Основные особенности реализации:
   1) Двойное управление:
      - Радиоуправление через NRF24L01
      - Резервное управление через Serial-монитор
      - Автоматический приоритет радиосигнала
   2) Система регулировки высоты:
       - Глобальная регулировка (все ноги)
       - Раздельная регулировка передних/задних ног
       - Плавное изменение высоты с шагом 0.5 мм
       - Ограничения для безопасной работы
   3) Алгоритмы движения:
       - Плавная ходьба вперед/назад
       - Повороты на месте
       - Автоматический возврат в нейтральное положение
       - Регулируемая скорость движения
   4) Обратная кинематика:
       - Точный расчет углов суставов
       - Учет конструктивных ограничений
       - Плавное перемещение ног
   5) Система безопасности:
       - Ограничители для сервоприводов
       - Плавные переходы между состояниями
       - Защита от перегрузок

Инструкция по использованию:
   1) Управление движением (левый джойстик):
       - Вперед: джойстик вверх
       - Назад: джойстик вниз
       - Влево: джойстик влево
       - Вправо: джойстик вправо
       - Центр: остановка
   2) Управление высотой (правый джойстик):
       - Поднять передние ноги: джойстик вверх + влево
       - Опустить передние ноги: джойстик вниз + влево
       - Поднять задние ноги: джойстик вверх + вправо
       - Опустить задние ноги: джойстик вниз + вправо
       - Поднять все ноги: джойстик вверх
       - Опустить все ноги: джойстик вниз
   3) Управление с клавиатуры:
       - f: вперед
       - b: назад
       - s: стоп
       - l: поворот влево
       - r: поворот вправо
       - u: поднять корпус
       - d: опустить корпус
       - +: ускорить
       - -: замедлить
         
Требования к аппаратному обеспечению:
   - Arduino Uno/Nano/Mega
   - Модуль NRF24L01
   - PCA9685 (драйвер сервоприводов)
   - 12 сервоприводов (3 на каждую ногу)
   - MPU6050 (гироскоп/акселерометр)
   - 2 датчика HC-SR04 (ультразвуковые дальномеры)
   - Пульт управления с двумя джойстиками KY-023 и NRF24L01

# Пульт

NRF24L01 -> Arduino
-------------------
GND  -> GND
VCC  -> 3.3V
CE   -> D9
CSN  -> D10
SCK  -> D13
MOSI -> D11
MISO -> D12

Левый джойстик:
VRx  -> A0
VRy  -> A1
VCC  -> 5V
GND  -> GND

Правый джойстик:
VRx  -> A2
VRy  -> A3
VCC  -> 5V
GND  -> GND

Светодиод:
Плюс -> D4 через резистор 220 Ом
Минус -> GND

Принцип работы пульта:
    1) Чтение данных:
        - Каждые 50 мс считываются показания с джойстиков
        - Значения фильтруются (убирается "дребезг" в нейтральной позиции)
    2) Обработка команд:
        - Левый джойстик:
            - Y < 400: движение вперед
            - Y > 600: движение назад
            - X < 400: поворот влево
            - X > 600: поворот вправо
        - Правый джойстик:
            - Y < 400: подъем
            - Y > 600: опускание
            - X < 400: действие для передних ног
            - X > 600: действие для задних ног
    3) Отправка данных:
        - Формируется структура RemoteData
        - Данные отправляются по радиочасти
        - Светодиод мигает при каждой отправке
    4) Индикация:
        - Короткое мигание: успешная отправка
        - Серия миганий: ошибка связи
        - Вывод в Serial-порт для отладки

Особенности реализации:
    1) Антидребезг:
        - Зона нечувствительности (±100 единиц от центра)
        - Фильтрация шумов джойстиков
    2) Энергоэффективность:
        - Отправка данных с интервалом 50 мс
        - Минимальное использование ресурсов
    3) Надежность связи:
        - Подтверждение доставки пакетов
        - Визуальная индикация статуса
    4) Отладка:
        - Подробный вывод в Serial Monitor
        - Расшифровка команд в реальном времени
        - Индикация ошибок связи

Для работы системы убедитесь, что:
    - На роботе установлен тот же адрес ("ROBOT")
    - Оба модуля NRF24L01 работают на одинаковой мощности сигнала (RF24_PA_MIN)
    - Питание модулей NRF24L01 осуществляется от 3.3V
    - Джойстики подключены к правильным аналоговым входам

Этот код обеспечивает полное управление роботом-собакой с возможностью:
    - Движения вперед/назад
    - Поворотов влево/вправо
    - Регулировки высоты передних/задних ног
    - Глобальной регулировки высоты
    - Плавного возврата в нейтральное положение